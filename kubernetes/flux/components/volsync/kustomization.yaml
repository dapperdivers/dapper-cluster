---
# yaml-language-server: $schema=https://json.schemastore.org/kustomization
# VolSync Phase-Based Component - DEPRECATED
#
# ⚠️  DO NOT USE THIS PARENT COMPONENT DIRECTLY
#
# The old monolithic component has been split into two phases to prevent race conditions.
# Apps MUST reference BOTH components in order for Flux to apply them sequentially:
#
#   components:
#     - ../../../../flux/components/volsync/repository
#     - ../../../../flux/components/volsync/operations
#
# Why two components?
#   - Flux applies components in list order when wait: true is set
#   - Repository PVC must be bound BEFORE ReplicationDestination starts
#   - Prevents race conditions that cause VolSync restore failures
#
# Migration instructions:
#   Old: - ../../../../flux/components/volsync
#   New: - ../../../../flux/components/volsync/repository
#        - ../../../../flux/components/volsync/operations
#
# This parent component exists only for documentation.
# It will be removed once all apps are migrated.
apiVersion: kustomize.config.k8s.io/v1alpha1
kind: Component
