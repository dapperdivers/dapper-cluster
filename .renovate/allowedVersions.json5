{
  $schema: "https://docs.renovatebot.com/renovate-schema.json",
  packageRules: [
    {
      matchDatasources: ["docker"],
      matchPackageNames: ["ghcr.io/linuxserver/calibre-web"],
      allowedVersions: "<1",
    },
    {
      // Pin Ceph images to v18.x to match external Ceph cluster version (18.2.7)
      // Prevents automatic upgrades to v19+ which would be incompatible
      // Applies to: toolbox and CephCluster cephVersion.image
      matchDatasources: ["docker"],
      matchPackageNames: ["quay.io/ceph/ceph"],
      matchFileNames: [
        "kubernetes/apps/rook-ceph/rook-ceph-cluster/app/toolbox.yaml",
        "kubernetes/apps/rook-ceph/rook-ceph-cluster/app/cluster-external.yaml"
      ],
      allowedVersions: "/^v18\\./",
    },
  ],
}
